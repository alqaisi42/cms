{
  "gitSyncId": "68b57ee1db221e2c35e689c6_f7f9f5a5-9759-4305-9a4d-d91476ff5b96",
  "id": "UserDetailsPage_updateDepEnablity",
  "pluginId": "oracle-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "encodeParamsToggle": true,
      "formData": {
        "body": {
          "data": "DECLARE\n    v_count NUMBER;\nBEGIN\n    -- Check if SUBS_ID exists in APP_USERS\n    SELECT COUNT(*)\n    INTO v_count\n    FROM COREAPPS.APP_USERS\n    WHERE SUBS_ID = {{ dep_table.selectedRow.ID }};\n\n    IF v_count > 0 THEN\n        -- Update APP_USERS\n        UPDATE COREAPPS.APP_USERS\n           SET FLG_ENABLED = {{ dep_table.selectedRow.IS_ENABLED ? 1 : 0 }}\n         WHERE SUBS_ID = {{ dep_table.selectedRow.ID }};\n    ELSE\n        -- Update DEPENDENTS_PHONE (only if column exists there)\n        UPDATE COREAPPS.DEPENDENTS_PHONE\n           SET FLG_ENABLE   = {{ dep_table.selectedRow.IS_ENABLED ? 1 : 0 }},\n               UPDATED_DATE = SYSDATE\n         WHERE SUBS_ID = {{ dep_table.selectedRow.ID }};\n    END IF;\nEND;\n"
        },
        "preparedStatement": {
          "data": false
        }
      },
      "paginationType": "NONE",
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "medexa",
      "isAutoGenerated": false,
      "name": "medexa",
      "pluginId": "oracle-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "formData.body.data"
      }
    ],
    "name": "updateDepEnablity",
    "pageId": "UserDetailsPage",
    "runBehaviour": "MANUAL",
    "userSetOnLoad": false
  }
}