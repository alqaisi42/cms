{
  "gitSyncId": "6834436f15756d4a34e18dca_39ff912e-05f9-4ffe-bd4b-4931b9c40914",
  "id": "Subscriber Logs_get_logs_by_subs_id",
  "pluginId": "oracle-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "encodeParamsToggle": true,
      "formData": {
        "body": {
          "data": "SELECT\n    AUDIT_ID,\n    SUBS_ID,\n    OPERATION_TYPE,\n    CHANGED_BY,\n    CHANGE_TIMESTAMP,\n    CASE OPERATION_TYPE\n        WHEN 'INSERT' THEN 'Inserted Row'\n        WHEN 'DELETE' THEN 'Deleted Row'\n        WHEN 'UPDATE' THEN\n            RTRIM(\n                CASE WHEN (HOF_ID_OLD <> HOF_ID_NEW OR (HOF_ID_OLD IS NULL AND HOF_ID_NEW IS NOT NULL) OR (HOF_ID_OLD IS NOT NULL AND HOF_ID_NEW IS NULL)) THEN 'HOF_ID: ' || HOF_ID_OLD || ' -> ' || HOF_ID_NEW || CHR(10) END ||\n                CASE WHEN (USER_NAME_OLD <> USER_NAME_NEW OR (USER_NAME_OLD IS NULL AND USER_NAME_NEW IS NOT NULL) OR (USER_NAME_OLD IS NOT NULL AND USER_NAME_NEW IS NULL)) THEN 'USER_NAME: ' || USER_NAME_OLD || ' -> ' || USER_NAME_NEW || CHR(10) END ||\n                CASE WHEN (USER_PASSWORD_OLD <> USER_PASSWORD_NEW OR (USER_PASSWORD_OLD IS NULL AND USER_PASSWORD_NEW IS NOT NULL) OR (USER_PASSWORD_OLD IS NOT NULL AND USER_PASSWORD_NEW IS NULL)) THEN 'USER_PASSWORD: (changed) ' || CHR(10) END || -- Consider not showing actual passwords\n                CASE WHEN (REG_DATE_OLD <> REG_DATE_NEW OR (REG_DATE_OLD IS NULL AND REG_DATE_NEW IS NOT NULL) OR (REG_DATE_OLD IS NOT NULL AND REG_DATE_NEW IS NULL)) THEN 'REG_DATE: ' || TO_CHAR(REG_DATE_OLD, 'YYYY-MM-DD HH24:MI:SS') || ' -> ' || TO_CHAR(REG_DATE_NEW, 'YYYY-MM-DD HH24:MI:SS') || CHR(10) END ||\n                CASE WHEN (DEVICE_ID_OLD <> DEVICE_ID_NEW OR (DEVICE_ID_OLD IS NULL AND DEVICE_ID_NEW IS NOT NULL) OR (DEVICE_ID_OLD IS NOT NULL AND DEVICE_ID_NEW IS NULL)) THEN 'DEVICE_ID: ' || DEVICE_ID_OLD || ' -> ' || DEVICE_ID_NEW || CHR(10) END ||\n                CASE WHEN (FLG_ADMIN_OLD <> FLG_ADMIN_NEW OR (FLG_ADMIN_OLD IS NULL AND FLG_ADMIN_NEW IS NOT NULL) OR (FLG_ADMIN_OLD IS NOT NULL AND FLG_ADMIN_NEW IS NULL)) THEN 'FLG_ADMIN: ' || FLG_ADMIN_OLD || ' -> ' || FLG_ADMIN_NEW || CHR(10) END ||\n                CASE WHEN (FLG_ENABLED_OLD <> FLG_ENABLED_NEW OR (FLG_ENABLED_OLD IS NULL AND FLG_ENABLED_NEW IS NOT NULL) OR (FLG_ENABLED_OLD IS NOT NULL AND FLG_ENABLED_NEW IS NULL)) THEN 'FLG_ENABLED: ' || FLG_ENABLED_OLD || ' -> ' || FLG_ENABLED_NEW || CHR(10) END ||\n                CASE WHEN (FLG_BLOCKED_OLD <> FLG_BLOCKED_NEW OR (FLG_BLOCKED_OLD IS NULL AND FLG_BLOCKED_NEW IS NOT NULL) OR (FLG_BLOCKED_OLD IS NOT NULL AND FLG_BLOCKED_NEW IS NULL)) THEN 'FLG_BLOCKED: ' || FLG_BLOCKED_OLD || ' -> ' || FLG_BLOCKED_NEW || CHR(10) END ||\n                CASE WHEN (FCM_TOKEN_OLD <> FCM_TOKEN_NEW OR (FCM_TOKEN_OLD IS NULL AND FCM_TOKEN_NEW IS NOT NULL) OR (FCM_TOKEN_OLD IS NOT NULL AND FCM_TOKEN_NEW IS NULL)) THEN 'FCM_TOKEN: (changed) ' || CHR(10) END || -- FCM Token can be very long\n                CASE WHEN (MOBILE_NUMBER_OLD <> MOBILE_NUMBER_NEW OR (MOBILE_NUMBER_OLD IS NULL AND MOBILE_NUMBER_NEW IS NOT NULL) OR (MOBILE_NUMBER_OLD IS NOT NULL AND MOBILE_NUMBER_NEW IS NULL)) THEN 'MOBILE_NUMBER: ' || MOBILE_NUMBER_OLD || ' -> ' || MOBILE_NUMBER_NEW || CHR(10) END ||\n                CASE WHEN (DEVICE_TYPE_OLD <> DEVICE_TYPE_NEW OR (DEVICE_TYPE_OLD IS NULL AND DEVICE_TYPE_NEW IS NOT NULL) OR (DEVICE_TYPE_OLD IS NOT NULL AND DEVICE_TYPE_NEW IS NULL)) THEN 'DEVICE_TYPE: ' || DEVICE_TYPE_OLD || ' -> ' || DEVICE_TYPE_NEW || CHR(10) END,\n            CHR(10)) -- Remove trailing newline\n        ELSE NULL\n    END AS DETAILS_OF_CHANGE\nFROM\n    APP_USERS_AUDIT\nWHERE\n  SUBS_ID IN ({{ appsmith.store.SubsLogsId || appsmith.URL.queryParams.depId }})\n\nORDER BY\n    CHANGE_TIMESTAMP DESC, AUDIT_ID DESC"
        },
        "preparedStatement": {
          "data": false
        }
      },
      "paginationType": "NONE",
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "medexa",
      "isAutoGenerated": false,
      "name": "medexa",
      "pluginId": "oracle-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "formData.body.data"
      }
    ],
    "name": "get_logs_by_subs_id",
    "pageId": "Subscriber Logs",
    "runBehaviour": "ON_PAGE_LOAD",
    "userSetOnLoad": true
  }
}