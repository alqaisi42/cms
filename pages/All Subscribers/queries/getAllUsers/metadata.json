{
  "gitSyncId": "68ac2838dde0d07712e044df_19bdcbc8-5c3e-452e-9e20-1b835e7fc8b5",
  "id": "All Subscribers_getAllUsers",
  "pluginId": "oracle-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "encodeParamsToggle": true,
      "formData": {
        "body": {
          "data": "WITH active_cnt AS (\n    SELECT \n        c.*,\n        ROW_NUMBER() OVER (\n            PARTITION BY c.SUBS_ID\n            ORDER BY c.START_DATE DESC\n        ) AS rn\n    FROM COREAPPS.VW_APPS_CNT_SUBS c\n    WHERE SYSDATE BETWEEN c.START_DATE AND c.END_DATE\n)\nSELECT \n    s.ID AS SUBS_ID,\n    s.NAME_E,\n    s.NAME_A,\n    s.MOBILE_PHONE,\n    s.NATIONAL_NO,\n    s.EMAIL1,\n\n    ac.CNT_ID,\n    ac.DEGREE_ID,\n    ac.COVERED_FLG,\n    ac.FLG_INACTIVE,\n    ac.RELATION_ID,\n    ac.EMP_NO,\n    ac.START_DATE,\n    ac.END_DATE,\n\t\tac.HOF_ID,\n\n    u.USER_NAME,\n    u.REG_DATE,\n    u.DEVICE_TYPE,\n    u.MOBILE_NUMBER AS USER_MOBILE,\n    CASE WHEN u.SUBS_ID IS NOT NULL THEN 'true' ELSE 'false' END AS IS_REGISTERED\n\nFROM COREAPPS.VW_APPS_SUBS s\nLEFT JOIN active_cnt ac ON ac.SUBS_ID = s.ID AND ac.rn = 1\nLEFT JOIN COREAPPS.APP_USERS u ON u.SUBS_ID = s.ID\n\nWHERE s.ID IN ( {{ searchSubs.data.map(row => row.ID).join(\",\") }} )\n\nORDER BY NVL(u.REG_DATE, DATE '1900-01-01') DESC\n"
        },
        "preparedStatement": {
          "data": false
        }
      },
      "paginationType": "NONE",
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "medexa",
      "isAutoGenerated": false,
      "name": "medexa",
      "pluginId": "oracle-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "formData.body.data"
      }
    ],
    "name": "getAllUsers",
    "pageId": "All Subscribers",
    "runBehaviour": "AUTOMATIC",
    "userSetOnLoad": false
  }
}